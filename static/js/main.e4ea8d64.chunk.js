(this["webpackJsonpreactjs-trade-csv-processor"]=this["webpackJsonpreactjs-trade-csv-processor"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var o,s,i=n(0),c=n.n(i),a=n(16),r=n.n(a),l=(n(62),n(12)),d=n(5),p=n(2),h=n(7),u=n(6),j=n.p+"static/media/logo.6ce24c58.svg",C=(n(63),n(51)),b=n.n(C),O=n(135),f=n(1),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Coins Token"}),Object(f.jsx)("p",{children:this.props.coinToken})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Coins Owned"}),Object(f.jsx)("p",{children:this.props.coinData.coinsOwned})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Coin Price"}),Object(f.jsx)("p",{children:this.props.coinPrice})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Current Value"}),Object(f.jsx)("p",{children:this.props.coinData.currentValue})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Fees Paid"}),Object(f.jsx)("p",{children:this.props.coinData.fee})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Money Invested (Without fee)"}),Object(f.jsx)("p",{children:this.props.coinData.moneyInvested})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{children:"Money Invested (With fee)"}),Object(f.jsx)("p",{children:this.props.coinData.moneyInvestedWithFees})]})]})})}}]),n}(i.Component),x=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).getProfit=function(){var e=o.props.coinData.currentValue/o.props.coinData.moneyInvested;return e*=100,e*=100,e%=100,e/=100},o}return Object(p.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("header",{children:[Object(f.jsx)("div",{}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("h5",{children:[this.props.coinToken," Tokens"]}),Object(f.jsxs)("p",{children:["Owned ",this.props.coinData.coinsOwned]}),Object(f.jsxs)("p",{children:["Value ",this.props.coinData.currentValue]}),Object(f.jsxs)("p",{children:["Profit ",this.getProfit()]}),Object(f.jsxs)("p",{children:["Invested ",this.props.coinData.moneyInvested]})]})]})})}}]),n}(i.Component),m=(i.Component,n(30)),g=n(31),k={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},D=g.a.button(o||(o=Object(m.a)(["\n  font-size: 20px;\n  padding: 10px 60px;\n  cursor: pointer;\n  opacity: 0.6;\n  background: white;\n  border: 0;\n  outline: 0;\n  ","\n"])),(function(e){return e.active&&"\n    border-bottom: 2px solid black;\n    opacity: 1;\n  "})),P=g.a.div(s||(s=Object(m.a)(["\n  display: flex;\n"]))),y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).getTabs=function(){return o.props.allSuportedCoins.map((function(e){return Object(f.jsx)(D,{active:o.state.active===e,onClick:function(){o.state.active!==e&&(o.props.updateSelectedToken(e),o.setState({active:e}),console.log(o.props))},children:e},e)}))},o.state={active:"",selectedCoinData:k,selectedCoinDataSet:[],selectedCoinPrice:-1},o}return Object(p.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Coin Details"}),Object(f.jsx)(P,{children:this.getTabs()}),null===this.props.selectedCoinToken?Object(f.jsx)("div",{children:" Select a token "}):Object(f.jsx)(v,{coinToken:this.props.selectedCoinToken,coinPrice:this.props.selectedCoinPrice,coinData:this.props.selectedCoinData})]})}}]),n}(i.Component),F=n(71),S=new(n(104)),I={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},T=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).postProcessingCheckpointCounter=0,o.handleFiles=function(e){o.postProcessingCheckpointCounter=0;o.setState({postProcessingCheckpoints:999999,postProcessingDone:!0});var t=new FileReader;t.onload=function(e){F(t.result,{columns:!0,trim:!0},(function(e,t){o.setState({fileUploaded:!0,postProcessingCheckpoints:0});var n=o.getAllCoinsFromReport(t).filter((function(e){return-1!=["BTC","ETH"].indexOf(e)}));o.setState({allSuportedCoins:n,fileData:t})}))},t.readAsText(e[0])},o.getCoinDataFromReport=function(e){return o.state.fileData.filter((function(t){return t.Coin.toLowerCase()===e.toLowerCase()}))},o.getAllCoinsFromReport=function(e){return Object(l.a)(new Set(e.map((function(e){return e.Coin}))))},o.analyzeCoinData=function(e,t){var n=e;return"BUY"===t.SIDE?(n.coinsOwned+=parseFloat(t.Crypto_Amt),n.moneyInvested-=1e8*parseFloat(t.Crypto_Amt)*(1e8*parseFloat(t.Rate)),n.moneyInvested/=1e16,n.moneyInvestedWithFees-=parseFloat(t.FIAT)):(n.coinsOwned-=parseFloat(t.Crypto_Amt),n.moneyInvested+=1e8*parseFloat(t.Crypto_Amt)*(1e8*parseFloat(t.Rate)),n.moneyInvested/=1e16,n.moneyInvestedWithFees+=parseFloat(t.FIAT)),n.fee+=parseFloat(t.Fee),n.currentValue=n.coinsOwned*o.state.selectedCoinPrice,0!==n.currentValue&&(n.currentValue-=n.fee),n},o.postProcessingCheckpoints=0,o.fetchCoinDataUsingId=function(e){var t=o.postProcessingCheckpointCounter;S.coins.fetch(o.state.allCoinCoinGeckoId[t],{}).then((function(n){var s=n.data.market_data.current_price.inr,i=o.state.allCoinPrice;i[t]=s,o.setState({allCoinPrice:i});var c=o.getCoinDataFromReport(o.state.allSuportedCoins[t]).reduce(o.analyzeCoinData,I),a=o.state.allCoinData;a[t]=c,o.setState({allCoinData:a}),e()}))},o.updateLatestCoinPricesFromCoinGecko=function(){S.coins.list().then((function(e){if(200===e.code){var t=e.data.filter((function(e){return-1!=o.state.allSuportedCoins.indexOf(e.symbol.toUpperCase())}));o.postProcessingCheckpointCounter=0;var n=t.length;o.setState({postProcessingCheckpoints:n});var s=o.state.allCoinCoinGeckoId;t.map((function(e){var t=e.symbol.toLowerCase(),n=o.state.allSuportedCoins.indexOf(t.toUpperCase());s[n]=e.id})),o.setState({allCoinCoinGeckoId:s});!function e(){n<=o.postProcessingCheckpointCounter&&!o.state.postProcessingDone?o.setState({postProcessingDone:!0}):o.fetchCoinDataUsingId((function(){o.postProcessingCheckpointCounter++,e()}))}()}}))},o.fetchLatestDataFromCoinGecko=function(){console.log("Latest Coin Data Fetched");var e=o.state.selectedCoinToken,t=o.getCoinDataFromReport(e),n=t.reduce(o.analyzeCoinData,I);o.setState({selectedCoinPrice:1}),o.setState({selectedCoinDataSet:t,selectedCoinData:n}),console.log("selectedCoinName",e,t)},o.handleNewTokenSelection=function(e){o.setState({selectedCoinToken:e}),o.fetchLatestDataFromCoinGecko()},o.state={fileUploaded:!1,postProcessingDone:!1,postProcessingCheckpoints:0,fileData:[],allCoinData:[],allCoinCoinGeckoId:[],allCoinPrice:[],allSuportedCoins:[],selectedCoinData:I,selectedCoinDataSet:[],selectedCoinPrice:-1,selectedCoinToken:""},o}return Object(p.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"App",children:this.state.postProcessingDone?Object(f.jsx)("div",{children:Object(f.jsx)(y,{selectedCoinToken:this.state.selectedCoinToken,selectedCoinPrice:this.state.selectedCoinPrice,selectedCoinData:this.state.selectedCoinData,updateSelectedToken:this.handleNewTokenSelection,allSuportedCoins:this.state.allSuportedCoins})}):Object(f.jsxs)("header",{className:"App-header",children:[Object(f.jsx)("img",{src:j,height:"100px",width:"100px",className:"App-logo",alt:"logo"}),Object(f.jsx)("label",{children:"Upload Report"}),Object(f.jsx)(b.a,{handleFiles:this.handleFiles,fileTypes:".csv",children:Object(f.jsx)(O.a,{color:"primary",children:"Upload"})})]})})}}]),n}(i.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),s(e),i(e),c(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),w()},62:function(e,t,n){},63:function(e,t,n){},93:function(e,t){},95:function(e,t){}},[[120,1,2]]]);
//# sourceMappingURL=main.e4ea8d64.chunk.js.map