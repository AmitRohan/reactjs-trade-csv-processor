(this["webpackJsonpreactjs-trade-csv-processor"]=this["webpackJsonpreactjs-trade-csv-processor"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},141:function(e,t){},143:function(e,t){},168:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(37),r=n.n(a),c=(n(106),n(13)),s=n(23),l=n(24),d=n(26),h=n(25),u=(n.p,n(107),n(88)),p=n.n(u),C=n(192),j=n(194),f=n(196),b=n(197),v=n(1),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getProfit=function(){var t=e.props.coinData.currentValue/e.props.coinData.moneyInvested;return t*=100,t*=100,t%=100,t=Math.round(t),t/=100},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)(j.a,{sx:{minWidth:275},children:Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(b.a,{gutterBottom:!0,variant:"h5",component:"div",children:[this.props.coinToken," ",this.getProfit()+"%"]}),Object(v.jsxs)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:[Math.abs(this.props.coinData.currentValue)," INR"]}),Object(v.jsxs)("p",{children:["Invested ",Math.abs(this.props.coinData.moneyInvested)]})]})})}}]),n}(o.Component),g=O,x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getIndividualCards=function(){return e.props.allCoinData.map((function(t,n){return Object(v.jsx)(C.a,{item:!0,xs:4,children:Object(v.jsx)(g,{coinToken:e.props.allCoins[n],coinData:t})},n)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Portfolio Overview"}),Object(v.jsx)(C.a,{container:!0,spacing:2,children:this.getIndividualCards()})]})}}]),n}(o.Component),m=x,y=n(198),D=n(199),k=n(188),P=n(92),S=n.n(P),I={chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Last 90 price",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:[]}},F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getGraph=function(){var t=e.props.coinHistoricPrice||[],n=Object.assign({},I);n.xaxis.categories=t.map((function(e){return new Date(e[0]).toLocaleDateString()}));var o=[{name:e.props.coinToken,data:t.map((function(e){return e[1]}))}];return Object(v.jsx)(S.a,{options:n,series:o,type:"line",height:350})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)(j.a,{sx:{minWidth:275},children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"div",children:this.props.coinData.coinsOwned+" "+this.props.coinToken+" Owned"}),Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Price"}),Object(v.jsx)(b.a,{variant:"body2",color:"text.secondary",children:this.props.coinPrice}),Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Current Value"}),Object(v.jsx)(b.a,{variant:"body2",color:"text.secondary",children:this.props.coinData.currentValue}),Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Money Invested (Without fee)"}),Object(v.jsx)(b.a,{variant:"body2",color:"text.secondary",children:this.props.coinData.moneyInvested}),Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Fees Paid"}),Object(v.jsx)(b.a,{variant:"body2",color:"text.secondary",children:this.props.coinData.fee}),Object(v.jsx)(b.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Money Invested (With fee)"}),Object(v.jsx)(b.a,{variant:"body2",color:"text.secondary",children:this.props.coinData.moneyInvestedWithFees}),this.getGraph()]})})}}]),n}(o.Component),w=F,T={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).handleCoinSelection=function(e,t){var n=o.props.allSuportedCoins[t]||"";o.state.active!==n&&(o.setState({firstSelect:!0,active:n,coinIndex:t}),o.props.updateSelectedToken(n))},o.getTabs=function(){return o.props.allSuportedCoins.map((function(e){return Object(v.jsx)(y.a,{label:e},e)}))},o.state={firstSelect:!1,active:"",coinIndex:0,selectedCoinData:T,selectedCoinDataSet:[],selectedCoinPrice:-1},o}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(D.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(v.jsx)(k.a,{value:this.state.coinIndex,"aria-label":"suported eth coin",onChange:this.handleCoinSelection,children:this.getTabs()})}),null!==this.props.selectedCoinToken&&this.state.firstSelect?Object(v.jsx)(w,{coinToken:this.props.selectedCoinToken,coinPrice:this.props.selectedCoinPrice,coinData:this.props.selectedCoinData,coinHistoricPrice:this.props.selectedCoinHistoricPrice}):Object(v.jsx)("div",{children:" Select a token "})]})}}]),n}(o.Component),L=n(200),B=n(201),R=n(202),G=n(193),H=n(190),U=n(203),V=n(119),W=new(n(152)),_=["ALL"],z={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},M={fileUploaded:!1,showLoader:!1,postProcessingDone:!1,postProcessingCheckpoints:0,fileData:[],allCoinData:[],allCoinCoinGeckoId:[],allCoinPrice:[],allSuportedCoins:[],selectedCoinData:z,selectedCoinHistoricPrice:[],selectedCoinDataSet:[],selectedCoinPrice:-1,selectedCoinToken:""},N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).postProcessingCheckpointCounter=0,o.handleFiles=function(e){o.postProcessingCheckpointCounter=0;o.setState({postProcessingCheckpoints:999999,postProcessingDone:!1,showLoader:!0});var t=new FileReader;t.onload=function(e){V(t.result,{columns:!0,trim:!0},(function(e,t){o.setState({fileUploaded:!0,postProcessingCheckpoints:0,fileData:t});var n=o.getCoinDataAnalyzer(0),i=o.getAllCoinsFromReport(t).filter((function(e){return o.getCoinDataFromReport(e).reduce(n,Object.assign({},z)).coinsOwned>0})).filter((function(e){return-1!==_.indexOf("ALL")||-1!==_.indexOf(e)}));o.setState({allSuportedCoins:i}),o.updateLatestCoinPricesFromCoinGecko()}))},t.readAsText(e[0])},o.getCoinDataFromReport=function(e){return o.state.fileData.filter((function(t){return t.Coin.toLowerCase()===e.toLowerCase()}))},o.getAllCoinsFromReport=function(e){return Object(c.a)(new Set(e.map((function(e){return e.Coin}))))},o.getCoinDataAnalyzer=function(e){return function(t,n){var o=Object.assign({},t);return"BUY"===n.SIDE?(o.coinsOwned+=parseFloat(n.Crypto_Amt),o.moneyInvested-=parseFloat(n.Crypto_Amt)*parseFloat(n.Rate),o.moneyInvestedWithFees-=parseFloat(n.FIAT)):(o.coinsOwned-=parseFloat(n.Crypto_Amt),o.moneyInvested+=parseFloat(n.Crypto_Amt)*parseFloat(n.Rate),o.moneyInvestedWithFees+=parseFloat(n.FIAT)),o.fee+=parseFloat(n.Fee),o.currentValue=o.coinsOwned*e,0!==o.currentValue&&(o.currentValue-=o.fee),o}},o.postProcessingCheckpoints=0,o.fetchCoinDataUsingId=function(e){var t=o.postProcessingCheckpointCounter;W.coins.fetch(o.state.allCoinCoinGeckoId[t],{}).then((function(n){var i=n.data.market_data.current_price.inr,a=o.state.allCoinPrice;a[t]=i,o.setState({allCoinPrice:a});var r=o.getCoinDataFromReport(o.state.allSuportedCoins[t]),c=Object.assign({},z),s=r.reduce(o.getCoinDataAnalyzer(i),c),l=o.state.allCoinData;l[t]=s,o.setState({allCoinData:l}),e()})).catch((function(t){console.log(t),e()}))},o.updateLatestCoinPricesFromCoinGecko=function(){W.coins.list().then((function(e){if(200===e.code){var t=e.data.filter((function(e){return-1!==o.state.allSuportedCoins.indexOf(e.symbol.toUpperCase())}));o.postProcessingCheckpointCounter=0;var n=t.length;o.setState({postProcessingCheckpoints:n});var i=o.state.allCoinCoinGeckoId;t.forEach((function(e){var t=e.symbol.toLowerCase(),n=o.state.allSuportedCoins.indexOf(t.toUpperCase());i[n]=e.id})),o.setState({allCoinCoinGeckoId:i});!function e(){n<=o.postProcessingCheckpointCounter&&!o.state.postProcessingDone?o.setState({postProcessingDone:!0,showLoader:!1}):o.fetchCoinDataUsingId((function(){o.postProcessingCheckpointCounter++,e()}))}()}}))},o.fetchSelectedCoinIdFromCoinGecko=function(){W.coins.list().then((function(e){200===e.code&&e.data.forEach((function(e){e.symbol.toLowerCase()===o.state.selectedCoinToken.toLowerCase()&&(o.fetchCoinPrice(e.id),o.fetchHistoricPrices(e.id))}))})).catch((function(e){return console.log(e)}))},o.fetchCoinPrice=function(e){W.coins.fetch(e,{}).then((function(e){var t=e.data.market_data.current_price.inr;o.updateSelectedCoinInState(t)})).catch((function(e){return console.log(e)}))},o.fetchHistoricPrices=function(e){W.coins.fetchMarketChart(e,{days:91,vs_currency:"inr",interval:"daily "}).then((function(e){var t=e.data.prices;o.setState({selectedCoinHistoricPrice:t})})).catch((function(e){return console.log(e)}))},o.resetAll=function(){o.setState(M)},o.updateSelectedCoinInState=function(e){var t=o.state.selectedCoinToken,n=o.getCoinDataFromReport(t),i=Object.assign({},z),a=n.reduce(o.getCoinDataAnalyzer(e),i);o.setState({selectedCoinPrice:e,selectedCoinDataSet:n,selectedCoinData:a})},o.handleNewTokenSelection=function(e){o.setState({selectedCoinToken:e}),o.fetchSelectedCoinIdFromCoinGecko()},o.state=M,o}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(L.a,{position:"static",children:Object(v.jsxs)(B.a,{children:[Object(v.jsx)(R.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2}}),Object(v.jsx)(b.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:this.state.postProcessingDone?"Detail":"Upload your file"}),this.state.postProcessingDone?Object(v.jsx)(G.a,{onClick:this.resetAll,color:"inherit",children:"Reset"}):Object(v.jsx)(p.a,{handleFiles:this.handleFiles,fileTypes:".csv",children:Object(v.jsx)(G.a,{color:"inherit",children:"Upload"})})]})}),this.state.postProcessingDone?Object(v.jsxs)("div",{children:[Object(v.jsx)(m,{allCoinData:this.state.allCoinData,allCoins:this.state.allSuportedCoins}),Object(v.jsx)(A,{selectedCoinToken:this.state.selectedCoinToken,selectedCoinPrice:this.state.selectedCoinPrice,selectedCoinData:this.state.selectedCoinData,selectedCoinHistoricPrice:this.state.selectedCoinHistoricPrice,updateSelectedToken:this.handleNewTokenSelection,allSuportedCoins:this.state.allSuportedCoins})]}):Object(v.jsx)("header",{className:"App-header",children:Object(v.jsx)("label",{children:"In Deapth Analysis of Trade Report"})}),Object(v.jsx)(H.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.showLoader,children:Object(v.jsx)(U.a,{color:"inherit"})})]})}}]),n}(o.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),a(e),r(e)}))};r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(N,{})}),document.getElementById("root")),E()}},[[168,1,2]]]);
//# sourceMappingURL=main.2e114ac6.chunk.js.map