(this["webpackJsonpreactjs-trade-csv-processor"]=this["webpackJsonpreactjs-trade-csv-processor"]||[]).push([[0],{113:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),a(e),r(e)}))}},115:function(e,t,n){"use strict";var o=n(13),i=n(25),a=n(26),r=n(28),c=n(27),s=(n.p,n(129),n(105)),l=n.n(s),d=n(0),h=n.n(d),u=n(216),p=n(218),j=n(220),C=n(221),f=n(1),b=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getProfit=function(){var t=e.props.coinData.currentValue/e.props.coinData.moneyInvested;return t*=100,t*=100,t%=100,t=Math.round(t),t/=100},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsx)(p.a,{sx:{minWidth:275},children:Object(f.jsxs)(j.a,{children:[Object(f.jsxs)(C.a,{gutterBottom:!0,variant:"h5",component:"div",children:[this.props.coinToken," ",this.getProfit()+"%"]}),Object(f.jsxs)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:[Math.abs(this.props.coinData.currentValue)," INR"]}),Object(f.jsxs)("p",{children:["Invested ",Math.abs(this.props.coinData.moneyInvested)]})]})})}}]),n}(d.Component),O=b,x=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getIndividualCards=function(){return e.props.allCoinData.map((function(t,n){return Object(f.jsx)(u.a,{item:!0,xs:4,children:Object(f.jsx)(O,{coinToken:e.props.allCoins[n],coinData:t})},n)}))},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Portfolio Overview"}),Object(f.jsx)(u.a,{container:!0,spacing:2,children:this.getIndividualCards()})]})}}]),n}(d.Component),v=x,g=n(225),m=n(226),y=n(211),D=n(222),S=n(214),P=n(223),k=n(224),I=n(111),F=n.n(I),w=n(112),T=n.n(w),A=n(109),L=n.n(A),G={chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Last 90 price",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:[]}},B=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getOverViewCard=function(){return Object(f.jsx)(p.a,{sx:{minWidth:275},children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.props.coinData.coinsOwned+" "+e.props.coinToken+" Owned"}),Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Price"}),Object(f.jsx)(C.a,{variant:"body2",color:"text.secondary",children:e.props.coinPrice}),Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Current Value"}),Object(f.jsx)(C.a,{variant:"body2",color:"text.secondary",children:Math.abs(e.props.coinData.currentValue)}),Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Money Invested (Without fee)"}),Object(f.jsx)(C.a,{variant:"body2",color:"text.secondary",children:Math.abs(e.props.coinData.moneyInvested)}),Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Fees Paid"}),Object(f.jsx)(C.a,{variant:"body2",color:"text.secondary",children:e.props.coinData.fee}),Object(f.jsx)(C.a,{gutterBottom:!0,variant:"h6",component:"div",children:"Money Invested (With fee)"}),Object(f.jsx)(C.a,{variant:"body2",color:"text.secondary",children:Math.abs(e.props.coinData.moneyInvestedWithFees)})]})})},e.getGraph=function(){var t=e.props.coinHistoricPrice||[],n=Object.assign({},G);n.xaxis.categories=t.map((function(e){return new Date(e[0]).toLocaleDateString()}));var o=[{name:e.props.coinToken,data:t.map((function(e){return e[1]}))}];return Object(f.jsx)(L.a,{options:n,series:o,type:"line",height:350})},e.getHistoricGraphCard=function(){return Object(f.jsx)(p.a,{sx:{minWidth:275},children:Object(f.jsx)(j.a,{children:e.getGraph()})})},e.getTransactionListCard=function(){return Object(f.jsx)(p.a,{sx:{minWidth:275},children:Object(f.jsx)(j.a,{children:Object(f.jsx)(D.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:e.props.coinDataSet.map((function(e){var t=Object(f.jsx)(h.a.Fragment,{children:Object(f.jsx)(C.a,{component:"span",variant:"body2",align:"right",color:"text.primary",children:e.Time})});return Object(f.jsxs)(S.a,{children:[Object(f.jsx)(P.a,{children:"BUY"===e.SIDE?Object(f.jsx)(F.a,{}):Object(f.jsx)(T.a,{})}),Object(f.jsx)(k.a,{primary:e.Crypto_Amt+" "+e.Desc+" for "+e.FIAT,secondary:t})]},e)}))})})})},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(u.a,{container:!0,spacing:2,children:[Object(f.jsx)(u.a,{item:!0,xs:8,children:Object(f.jsxs)(u.a,{container:!0,spacing:2,children:[Object(f.jsx)(u.a,{item:!0,xs:12,children:this.getOverViewCard()}),Object(f.jsx)(u.a,{item:!0,xs:12,children:this.getHistoricGraphCard()})]})}),Object(f.jsx)(u.a,{item:!0,xs:4,children:this.getTransactionListCard()})]})}}]),n}(d.Component),W=B,R={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},H=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleCoinSelection=function(e,t){var n=o.props.allSuportedCoins[t]||"";o.state.active!==n&&(o.setState({firstSelect:!0,active:n,coinIndex:t}),o.props.updateSelectedToken(n))},o.getTabs=function(){return o.props.allSuportedCoins.map((function(e){return Object(f.jsx)(g.a,{label:e},e)}))},o.state={firstSelect:!1,active:"",coinIndex:0,selectedCoinData:R,selectedCoinDataSet:[],selectedCoinPrice:-1},o}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(f.jsx)(y.a,{value:this.state.coinIndex,"aria-label":"suported eth coin",onChange:this.handleCoinSelection,children:this.getTabs()})}),null!==this.props.selectedCoinToken&&this.state.firstSelect?Object(f.jsx)(W,{coinToken:this.props.selectedCoinToken,coinPrice:this.props.selectedCoinPrice,coinData:this.props.selectedCoinData,coinDataSet:this.props.selectedCoinDataSet,coinHistoricPrice:this.props.selectedCoinHistoricPrice}):Object(f.jsx)("div",{children:" Select a token "})]})}}]),n}(d.Component),U=n(227),V=n(228),M=n(229),_=n(217),z=n(212),N=n(230),E=n(141),J=new(n(174)),Y=["ALL"],Z=["SOUL"],X="XYZZYSPOON!",q={coinsOwned:0,currentValue:0,fee:0,moneyInvested:0,moneyInvestedWithFees:0},K={fileUploaded:!1,showLoader:!1,postProcessingDone:!1,postProcessingCheckpoints:0,fileData:[],allCoinData:[],allCoinCoinGeckoId:[],allCoinPrice:[],allSuportedCoins:[],selectedCoinData:q,selectedCoinHistoricPrice:[],selectedCoinDataSet:[],selectedCoinPrice:-1,selectedCoinToken:""},Q=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).postProcessingCheckpointCounter=0,a.initialProcessingChecks=function(){a.postProcessingCheckpointCounter=0;a.setState({postProcessingCheckpoints:999999,postProcessingDone:!1,showLoader:!0})},a.handleProcessedData=function(e){localStorage.setItem(X,JSON.stringify(e)),a.setState({fileUploaded:!0,fileData:e});var t=a.getCoinDataAnalyzer(0),n=a.getAllCoinsFromReport(e).filter((function(e){return a.getCoinDataFromReport(e).reduce(t,Object.assign({},q)).coinsOwned>0}));n=(n=n.filter((function(e){return-1!==Y.indexOf("ALL")||-1!==Y.indexOf(e)}))).filter((function(e){return-1!==Z.indexOf("ALL")||-1===Z.indexOf(e)})),a.setState({allSuportedCoins:n}),a.updateLatestCoinPricesFromCoinGecko()},a.handleFiles=function(e){a.initialProcessingChecks();var t=new FileReader;t.onload=function(e){E(t.result,{columns:!0,trim:!0},(function(e,t){a.handleProcessedData(t)}))},t.readAsText(e[0])},a.getCoinDataFromReport=function(e){return a.state.fileData.filter((function(t){return t.Coin.toLowerCase()===e.toLowerCase()}))},a.getAllCoinsFromReport=function(e){return Object(o.a)(new Set(e.map((function(e){return e.Coin}))))},a.getCoinDataAnalyzer=function(e){return function(t,n){var o=Object.assign({},t);return"BUY"===n.SIDE?(o.coinsOwned+=parseFloat(n.Crypto_Amt),o.moneyInvested-=parseFloat(n.Crypto_Amt)*parseFloat(n.Rate),o.moneyInvestedWithFees-=parseFloat(n.FIAT)):(o.coinsOwned-=parseFloat(n.Crypto_Amt),o.moneyInvested+=parseFloat(n.Crypto_Amt)*parseFloat(n.Rate),o.moneyInvestedWithFees+=parseFloat(n.FIAT)),o.fee+=parseFloat(n.Fee),o.currentValue=o.coinsOwned*e,0!==o.currentValue&&(o.currentValue-=o.fee),o}},a.postProcessingCheckpoints=0,a.fetchCoinDataUsingId=function(e){var t=a.postProcessingCheckpointCounter;void 0!==a.state.allCoinCoinGeckoId[t]?J.coins.fetch(a.state.allCoinCoinGeckoId[t],{}).then((function(n){var o=n.data.market_data.current_price.inr,i=a.state.allCoinPrice;i[t]=o,a.setState({allCoinPrice:i});var r=a.getCoinDataFromReport(a.state.allSuportedCoins[t]),c=Object.assign({},q),s=r.reduce(a.getCoinDataAnalyzer(o),c),l=a.state.allCoinData;l[t]=s,a.setState({allCoinData:l}),e()})).catch((function(t){console.log(t),e()})):e()},a.updateLatestCoinPricesFromCoinGecko=function(){J.coins.list().then((function(e){if(200===e.code){var t=e.data.filter((function(e){return-1!==a.state.allSuportedCoins.indexOf(e.symbol.toUpperCase())}));a.postProcessingCheckpointCounter=0;var n=t.length;a.setState({postProcessingCheckpoints:n});var o=a.state.allCoinCoinGeckoId;t.forEach((function(e){var t=e.symbol.toLowerCase(),n=a.state.allSuportedCoins.indexOf(t.toUpperCase());o[n]=e.id})),a.setState({allCoinCoinGeckoId:o});!function e(){n<=a.postProcessingCheckpointCounter&&!a.state.postProcessingDone?a.setState({postProcessingDone:!0,showLoader:!1}):a.fetchCoinDataUsingId((function(){a.postProcessingCheckpointCounter++,e()}))}()}})).catch(console.log)},a.fetchSelectedCoinIdFromCoinGecko=function(){J.coins.list().then((function(e){200===e.code&&e.data.forEach((function(e){e.symbol.toLowerCase()===a.state.selectedCoinToken.toLowerCase()&&(a.fetchCoinPrice(e.id),a.fetchHistoricPrices(e.id))}))})).catch(console.log)},a.fetchCoinPrice=function(e){J.coins.fetch(e,{}).then((function(e){var t=e.data.market_data.current_price.inr;a.updateSelectedCoinInState(t)})).catch(console.log)},a.fetchHistoricPrices=function(e){J.coins.fetchMarketChart(e,{days:91,vs_currency:"inr",interval:"daily "}).then((function(e){var t=e.data.prices;a.setState({selectedCoinHistoricPrice:t})})).catch(console.log)},a.resetAll=function(){localStorage.setItem(X,null),a.setState(K)},a.updateSelectedCoinInState=function(e){var t=a.state.selectedCoinToken,n=a.getCoinDataFromReport(t),o=Object.assign({},q),i=n.reduce(a.getCoinDataAnalyzer(e),o);a.setState({selectedCoinPrice:e,selectedCoinDataSet:n,selectedCoinData:i})},a.handleNewTokenSelection=function(e){a.setState({selectedCoinToken:e}),a.fetchSelectedCoinIdFromCoinGecko()},a.state=K;var r=JSON.parse(localStorage.getItem(X));return null!=r&&Array.isArray(r)&&(console.log("Data alrady cached",r),a.initialProcessingChecks(),setTimeout((function(){a.handleProcessedData(r)}),200)),a}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(U.a,{position:"static",children:Object(f.jsxs)(V.a,{children:[Object(f.jsx)(M.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2}}),Object(f.jsx)(C.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:this.state.postProcessingDone?"Detail":"Upload your file"}),this.state.postProcessingDone?Object(f.jsx)(_.a,{onClick:this.resetAll,color:"inherit",children:"Reset"}):Object(f.jsx)(l.a,{handleFiles:this.handleFiles,fileTypes:".csv",children:Object(f.jsx)(_.a,{color:"inherit",children:"Upload"})})]})}),this.state.postProcessingDone?Object(f.jsxs)("div",{children:[Object(f.jsx)(v,{allCoinData:this.state.allCoinData,allCoins:this.state.allSuportedCoins}),Object(f.jsx)(H,{selectedCoinToken:this.state.selectedCoinToken,selectedCoinPrice:this.state.selectedCoinPrice,selectedCoinData:this.state.selectedCoinData,selectedCoinDataSet:this.state.selectedCoinDataSet,selectedCoinHistoricPrice:this.state.selectedCoinHistoricPrice,updateSelectedToken:this.handleNewTokenSelection,allSuportedCoins:this.state.allSuportedCoins})]}):Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)("label",{children:"In Deapth Analysis of Trade Report"})}),Object(f.jsx)(z.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.showLoader,children:Object(f.jsx)(N.a,{color:"inherit"})})]})}}]),n}(d.Component);t.a=Q},117:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),o=n.n(t),i=n(41),a=n.n(i),r=(n(128),n(115)),c=n(113),s=n(1);e.emitWarning=function(e){e&&console.log(e)},a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(r.a,{})}),document.getElementById("root")),Object(c.a)()}.call(this,n(34))},128:function(e,t,n){},129:function(e,t,n){},163:function(e,t){},165:function(e,t){}},[[117,1,2]]]);
//# sourceMappingURL=main.c3130543.chunk.js.map